description PerfSONAR Observatoire Mesh Config

<administrator>
  name       Rosendo BONILLA
  email      bonilla.juarez.rosendo@gmail.com
</administrator>

<organization>
    description     Observatoire Astronomique de Strasbourg

    <site>
        <host>
              description Sonde Batiment Sud
              address 130.79.129.X
              address X.X.X.X
              
                    <measurement_archive>
                        type traceroute
                        read_url http://10.254.11.128/esmond/perfsonar/archive
                        write_url http://10.254.11.128/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type perfsonarbuoy/owamp
                        read_url http://10.254.11.128/esmond/perfsonar/archive
                        write_url http://10.254.11.128/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type perfsonarbuoy/bwctl
                        read_url http://10.254.11.128/esmond/perfsonar/archive
                        write_url http://10.254.11.128/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type pinger
                        read_url http://10.254.11.128/esmond/perfsonar/archive
                        write_url http://10.254.11.128/esmond/perfsonar/archive
                    </measurement_archive>
        </host>
    </site>

    <site>
        <host>
              description Sonde Batiment Est
              address 130.79.129.X
              
                    <measurement_archive>
                        type traceroute
                        read_url http://10.254.11.79/esmond/perfsonar/archive
                        write_url http://10.254.11.79/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type perfsonarbuoy/owamp
                        read_url http://10.254.11.79/esmond/perfsonar/archive
                        write_url http://10.254.11.79/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type perfsonarbuoy/bwctl
                        read_url http://10.254.11.79/esmond/perfsonar/archive
                        write_url http://10.254.11.79/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type pinger
                        read_url http://10.254.11.79/esmond/perfsonar/archive
                        write_url http://10.254.11.79/esmond/perfsonar/archive
                    </measurement_archive>
        </host>
    </site>
    
    <site>
        <host>
              description Sonde Coupole
              address 130.79.129.200
                    <measurement_archive>
                        type traceroute
                        read_url http://130.79.129.200/esmond/perfsonar/archive
                        write_url http://130.79.129.200/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type perfsonarbuoy/owamp
                        read_url http://130.79.129.200/esmond/perfsonar/archive
                        write_url http://130.79.129.200/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type perfsonarbuoy/bwctl
                        read_url http://130.79.129.200/esmond/perfsonar/archive
                        write_url http://130.79.129.200/esmond/perfsonar/archive
                    </measurement_archive>

                    <measurement_archive>
                        type pinger
                        read_url http://130.79.129.200/esmond/perfsonar/archive
                        write_url http://130.79.129.200/esmond/perfsonar/archive
                    </measurement_archive>
        </host>
    </site>
    
</organization>

#<organization>
#    description     Strasbourg PERF
#    
#    <site>
#        <host>
#             description SBG PERF
#              address sbgperfps1.in2p3.fr
#        </host>
#    </site>
#</organization>
    
<test_spec bwctl_test>
  type              perfsonarbuoy/bwctl  # Perform a bwctl test (i.e. achievable bandwidth)
  tool              bwctl/iperf3         # Use 'iperf' to do the bandwidth test
  protocol          tcp                  # Run a TCP bandwidth test
  interval          23600                # Run the test every day
  duration          20                   # Perform a 20 second test
  force_bidirectional 1                  # do bidirectional test
  random_start_percentage 10             # randomize start time
  omit_interval     5                    # ignore first few seconds of test
</test_spec>

#Specification test vers l'exterieur
#<test_spec bwctl_test_out>
#  type              perfsonarbuoy/bwctl  # Perform a bwctl test (i.e. achievable bandwidth)
#  tool              bwctl/iperf3         # Use 'iperf' to do the bandwidth test
#  protocol          tcp                  # Run a TCP bandwidth test
#  interval          86400                # Run the test every day
#  duration          20                   # Perform a 20 second test
#  force_bidirectional 1                  # do bidirectional test
#  random_start_percentage 10             # randomize start time
#  omit_interval     5                    # ignore first few seconds of test
#</test_spec>

<test_spec owamp_test>
  type              perfsonarbuoy/owamp  # Perform a constant low-bandwidth OWAMP test
  packet_interval   0.1                  # Send 10 packets every second (i.e. pause 0.1 seconds between each packet)
  loss_threshold    10                   # Wait no more than 10 seconds for a response
  session_count     10800                # Refresh the test every half hour (once every 18000 packets)
  sample_count      600                  # Send results back every 60 seconds (once every 600 packets)
  packet_padding    0                    # The size of the packets (not including the IP/UDP headers)
  bucket_width      0.0001               # The granularity of the measurements
  force_bidirectional 1                  # do bidirectional test
</test_spec>

#<group OAS_bwctl_group_disjoint>
#    type disjoint
#    
#   a_member    sbgperfps1.in2p3.fr
#    
#    b_member    sud
#</group>

<group OAS_bwctl_group>
    type       mesh

    member     sud
    member     est
    member     130.79.129.200
</group>

<group OAS_owamp_group>
    type       mesh

    member     sud
    member     est
    member     130.79.129.200
</group>

<test>
  description       Throughput Testing
  group             OAS_bwctl_group
  test_spec         bwctl_test
</test>

<test>
  description       OWAMP Testing
  group             OAS_owamp_group
  test_spec         owamp_test
</test>

#Test Sud vers l'exterieur
#<test>
# description       Throughput Testing Out
#  group             OAS_bwctl_group_disjoint
#  test_spec         bwctl_test_out
#</test>
